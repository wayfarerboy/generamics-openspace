function getScreenBBox_impl(d){function g(n,o){var i=document.documentElement.createSVGPoint();i.x=n;i.y=o;return i}function a(n,q,o,i){var p=document.documentElement.createSVGRect();p.x=n;p.y=q;p.width=o;p.height=i;return p}var l=d.getScreenCTM();var e=d.getBBox();var f=[];var m=g(e.x,e.y);f.push(m.matrixTransform(l));m.x=e.x+e.width;m.y=e.y;f.push(m.matrixTransform(l));m.x=e.x+e.width;m.y=e.y+e.height;f.push(m.matrixTransform(l));m.x=e.x;m.y=e.y+e.height;f.push(m.matrixTransform(l));var j=g(f[0].x,f[0].y);var b=g(f[0].x,f[0].y);for(var c=1;c<f.length;c++){var k=f[c].x;var h=f[c].y;if(k<b.x){b.x=k}else{if(k>j.x){j.x=k}}if(h<b.y){b.y=h}else{if(h>j.y){j.y=h}}}return a(b.x,b.y,j.x-b.x,j.y-b.y)};